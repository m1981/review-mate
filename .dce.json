{
  "services": {
    "development": {
      "commands": {
          "Decrypt Vars ": {
            "commands": [
              "export SOPS_AGE_KEY_FILE=~/.sops/keys.txt && sops -d secrets/development.yaml > secrets/development.local.yaml ",
              "yq eval '.reviewmate.firebase | to_entries | .[] | \"VITE_FIREBASE_\" + (.key | upcase) + \"=\\\"\" + .value + \"\\\"\"' secrets/development.local.yaml > .env"
            ]
          },
          "Rotate AGE keys": "sops updatekeys secrets/development.yaml",
          "Run Dev Server": "docker compose down && docker compose up",
          "precommit": "echo run precommit",
          "tests-ut": "echo run tests_ut"
      }
    },
    "node_modules": {
      "commands": {
        "Gen Lock file": "docker compose run --rm web npm install --package-lock-only",
        "Check outdated": "docker compose exec web npm outdated",
        "Audit Fix": "docker compose exec web npm audit fix",
        "Audit Fix Force": "docker compose exec web npm audit fix --force"
      }
    }
  }
}